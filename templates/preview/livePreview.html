<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>

  <link href="https://fonts.googleapis.com/css?family=Roboto|Ubuntu" rel="stylesheet">
  <style type="text/css">
    @media screen and (max-width: 360px) {
      p {
        font-size: 10px;
        padding: 0 0 0 4px;
      }
    }
  </style>
  <script>
    function refreshPreview() {
      var template = document.getElementById('template').value
      var locale = document.getElementById('locale').value
      if (template == "") {
        return;
      }
      var xmlhttp = new XMLHttpRequest();
      xmlhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          document.getElementById("txtHint").innerHTML = this.responseText;
          document.dispatchEvent(new CustomEvent("lokalise-update-locale", {"detail": locale}));
          document.dispatchEvent(new Event("lokalise-update-elements"));
        }
      }
      xmlhttp.open("GET", `/lokalisepreview/${template}?lang=${locale}`, true);
      xmlhttp.send();

    }
  </script>
</head>

<body
  style="padding:0;background-color:#ffffff;font-family:'Roboto', sans-serif;color:#575756;min-width:100%;margin:8px !important;margin:0;padding:0;min-width:100%;background-color:#ffffff;">
  <form>
    <select name=template id="template" onchange="refreshPreview()">
      <option value="">Select a template:</option>
      <option value="careteam_invitation">careteam invite</option>
      <option value="no_account">no account</option>
      <option value="password_reset">clinician password reset</option>
      <option value="patient_password_reset">patient password reset</option>
      <option value="patient_information">patient signup information</option>
      <option value="signup_confirmation">signup confirmation</option>
      <option value="signup_clinic_confirmation">clinician signup confirmation</option>
      <option value="signup_custodial_confirmation">custodial confirmation</option>
    </select>
    <select name="lang" id="locale" onchange="refreshPreview()">
      <option value="en">en</option>
      <option value="de">de</option>
      <option value="fr">fr</option>
    </select>
  </form>
  <div id="txtHint">Email preview will be displayed here...</div>
  <script>
    window.LOKALISE_CONFIG = {
      projectId: '164383755e2a92a7917465.42378216',
      locale: 'en',
      plainKey: true,
    };

    (function () {
      const a = document.createElement('script');
      a.type = 'text/javascript';
      a.async = !0;
      a.src = `https://lokalise.com/live-js/script.min.js?${(new Date).getTime()}`;
      document.body.appendChild(a);
    })();
  </script>
</body>

</html>